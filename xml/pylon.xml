<game>
    <name>Pylon</name>
    <gamebody>
        <about>
            <author>Doug Orleans</author>
            <date>2005</date>
        </about>
        <players>
            <player value="white" />
            <pieces>
                5×
                <piece> <shape value="small" /> <colour value="white" /> </piece>
                5×
                <piece> <shape value="medium" /> <colour value="white" /> </piece>
                5×
                <piece> <shape value="large" /> <colour value="white" /> </piece>
            </pieces>
        </players>
        <players>
            <player value="black" />
            <pieces>
                5×
                <piece> <shape value="small" /> <colour value="black" /> </piece>
                5×
                <piece> <shape value="medium" /> <colour value="black" /> </piece>
                5×
                <piece> <shape value="large" /> <colour value="black" /> </piece>
            </pieces>
        </players>
        <board>
            <grid rows="5" columns="6" left="edge" right="edge" bottom="edge" top="edge" scale="0.4" />
            5×6
        </board>
        <setup>
            None
        </setup>
        <dl>
            <dlentry>
                <dt><keyword>pylon</keyword></dt>
                <dd>
                    one or more pieces
                    stacked so that no piece is above a smaller piece
                </dd>
            </dlentry>
        </dl>
        <phase>
            <phaseName>
                <phaseNumber value="1" /> <player value="white" />
            </phaseName>
            <line>
                Place one of your pieces in an empty square
            </line>
            <repeat>
                <goToPhase>
                    <phaseNumber value="1" /> <player value="white" />
                </goToPhase>
                <goToPhase>
                    <phaseNumber value="1" /> <player value="black" />
                </goToPhase>
            </repeat>
        </phase>
        <subphase>
            <phaseName>
                <phaseNumber value="1" />
            </phaseName>
            No empty squares
            <goToPhase>
                <phaseNumber value="2" /> <player value="black" />
            </goToPhase>
        </subphase>
        <phase>
            <phaseName>
                <phaseNumber value="2" /> <player value="black" />
            </phaseName>
            <line>
                Place the
                <keyword>pylon</keyword>    
                in any square on top of a   
                <keyword>pylon</keyword>
                in an
                abutting
                square, to leave a
                <keyword>pylon</keyword>
                in that square
            </line>
            <repeat>
                <goToPhase>
                    <phaseNumber value="2" /> <player value="white" />
                </goToPhase>
                <goToPhase>
                    <phaseNumber value="2" /> <player value="black" />
                </goToPhase>
            </repeat>
            <example>
                <legal>
                    <grid rows="1" columns="2" id="before">
                        <square x="0" y="0">
                            <stack>
                                <piece> <colour value="black" /> <shape value="large" /> </piece>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                            </stack>
                        </square>
                        <square x="1" y="0">
                            <stack>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                            </stack>
                        </square>
                    </grid>
                    <grid rows="1" columns="2">
                        <square x="0" y="0">
                            <stack>
                                <piece> <colour value="black" /> <shape value="large" /> </piece>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                            </stack>
                        </square>
                    </grid>
                </legal>
                <illegal>
                    <grid use="before"/>
                    <grid rows="1" columns="2">
                        <square x="1" y="0">
                            <stack>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                                <piece> <colour value="black" /> <shape value="large" /> </piece>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                            </stack>
                        </square>
                    </grid>
                </illegal>
            </example>
            <example>
                <illegal>
                    <grid use="before"/>
                    <grid rows="1" columns="2">
                        <square x="1" y="0">
                            <stack>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                                <piece> <colour value="black" /> <shape value="large" /> </piece>
                                <piece> <colour value="white" /> <shape value="medium" /> </piece>
                            </stack>
                        </square>
                    </grid>
                </illegal>
            </example>
        </phase>
        <subphase>
            <phaseName>
                <phaseNumber value="2" />
            </phaseName>
            No legal moves
            <goToPhase>
                <phaseNumber value="End" />
            </goToPhase>
        </subphase>
        <phase>
            <phaseName>
                <phaseNumber value="End" />
            </phaseName>
            <line>Each player scores 1 point for each piece in all <keyword>pylons</keyword>
                  with one of their pieces on top</line>
            <line>Player with most points wins</line>
            <example>
            <grid rows="5" columns="6" left="edge" right="edge" bottom="edge" top="edge">
                <square x="4" y="0">
                    <stack>
                        <piece> <colour value="white" /> <shape value="large" /> </piece>
                        <piece> <colour value="white" /> <shape value="medium" /> </piece>
                        <piece> <colour value="black" /> <shape value="medium" /> </piece>
                        <piece> <colour value="black" /> <shape value="small" /> </piece>
                        <piece> <colour value="black" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="2" y="1">
                    <stack>
                        <piece> <colour value="white" /> <shape value="large" /> </piece>
                        <piece> <colour value="black" /> <shape value="large" /> </piece>
                        <piece> <colour value="black" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="4" y="1">
                    <stack>
                        <piece> <colour value="black" /> <shape value="large" /> </piece>
                        <piece> <colour value="white" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="1" y="2">
                    <stack>
                        <piece> <colour value="black" /> <shape value="large" /> </piece>
                        <piece> <colour value="white" /> <shape value="medium" /> </piece>
                        <piece> <colour value="white" /> <shape value="medium" /> </piece>
                        <piece> <colour value="white" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="3" y="3">
                    <stack>
                        <piece> <colour value="black" /> <shape value="large" /> </piece>
                        <piece> <colour value="black" /> <shape value="medium" /> </piece>
                        <piece> <colour value="white" /> <shape value="small" /> </piece>
                        <piece> <colour value="white" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="4" y="3">
                    <stack>
                        <piece> <colour value="black" /> <shape value="large" /> </piece>
                        <piece> <colour value="white" /> <shape value="medium" /> </piece>
                        <piece> <colour value="white" /> <shape value="small" /> </piece>
                        <piece> <colour value="black" /> <shape value="small" /> </piece>
                    </stack>
                </square>
                <square x="1" y="4">
                    <stack>
                        <piece> <colour value="white" /> <shape value="large" /> </piece>
                        <piece> <colour value="white" /> <shape value="large" /> </piece>
                        <piece> <colour value="black" /> <shape value="medium" /> </piece>
                        <piece> <colour value="white" /> <shape value="medium" /> </piece>
                    </stack>
                </square>
                <square x="5" y="4">
                    <stack>
                        <piece> <colour value="white" /> <shape value="large" /> </piece>
                        <piece> <colour value="black" /> <shape value="medium" /> </piece>
                        <piece> <colour value="black" /> <shape value="medium" /> </piece>
                        <piece> <colour value="black" /> <shape value="small" /> </piece>
                    </stack>
                </square>
            </grid>
            </example>
        </phase>
    </gamebody>
</game>
