<game>
    <name>Line Up</name>
    <gamebody>
        <about>
            <author>Sid Sackson</author>
            <date>1975</date>
        </about>
        <players>
            <player value="white" />
            <pieces>
                2 ×
                <piece colour="white" shape="small-rook" />,
                2 ×
                <piece colour="white" shape="small-rook-with-dot" />,
                1 ×
                <piece colour="white" shape="king" />
            </pieces>
        </players>
        <players>
            <player value="black" />
            <pieces>
                2 ×
                <piece colour="black" shape="small-rook" />,
                2 ×
                <piece colour="black" shape="small-rook-with-dot" />,
                1 ×
                <piece colour="black" shape="king" />
            </pieces>
        </players>
        <phase>
            <phaseName>
                <phaseRef value="Setup" />
            </phaseName>
            <grid id="grid" rows="4" columns="4" size="small" scale="1"
                  left="edge" right="edge" bottom="edge" top="edge"/>
            <goToPhase>
                <phaseRef value="1" />
            </goToPhase>
        </phase>
        <phase>
            <phaseName>
                <phaseRef value="1" />
            </phaseName>
            <repeat>
            <p>
                <player value="black" />
                <keyword>use</keyword> <piece colour="black" shape="small-rook" />
                <goToPhase>
                    <player value="white" />
                </goToPhase>
                <keyword>use</keyword> <piece colour="white" shape="small-rook-with-dot" />
                <goToPhase>
                    <player value="black" />
                </goToPhase>
                <keyword>use</keyword> <piece colour="black" shape="king" />
            </p>
            <p>
                <player value="white" />
                <keyword>use</keyword> <piece colour="white" shape="small-rook" />
                <goToPhase>
                    <player value="black" />
                </goToPhase>
                <keyword>use</keyword> <piece colour="black" shape="small-rook-with-dot" />
                <goToPhase>
                    <player value="white" />
                </goToPhase>
                <keyword>use</keyword> <piece colour="white" shape="king" />
            </p>
            <goToPhase>
                <phaseRef value="1" />
            </goToPhase>
            </repeat>
        </phase>
        <phase>
            <phaseName>
                <phaseRef value="1" />
                <player value="black" /> (<player value="white" />)
            </phaseName>
            <p>Make an orthogonal or diagonal line with 4 of your pieces</p>
            <goToPhase>
                <phaseRef value="Win" />
            </goToPhase>
            <example>
                <player value="white" /> (<piece colour="white" shape="small-rook" />)
                <hide>
                <grid use="grid" id="wins">
                    <square x="1" y="0"> <piece colour="white" shape="small-rook-with-dot" /> </square>
                    <square x="2" y="0"> <piece colour="black" shape="small-rook" /> </square>
                    <square x="3" y="0"> <piece colour="black" shape="small-rook-with-dot" /> </square>
                        <square x="1" y="1">
                        <piece colour="white" shape="small-rook" />
                    </square>
                    <square x="2" y="1"> <piece colour="black" shape="king" /> </square>
                    <square x="0" y="2"> <piece colour="white" shape="king" /> </square>
                    <square x="2" y="2"> <piece colour="white" shape="small-rook" /> </square>
                    <square x="3" y="2"> <piece colour="white" shape="small-rook-with-dot" /> </square>
                    <square x="0" y="3"> <piece colour="black" shape="small-rook" /> </square>
                    <square x="1" y="3"> <piece colour="black" shape="small-rook-with-dot" /> </square>
                </grid>
                </hide>
                <grid use="wins" scale="1">
                    <square x="1" y="1">
                        <arrow x="0" y="1" />
                    </square>
                </grid>
                <goToPhase>
                    <phaseRef value="Win" />
                    <player value="white" />
                </goToPhase>
            </example>
            <example>
                <player value="black" /> (<piece colour="black" shape="small-rook-with-dot" />)
                <grid use="wins" scale="1">
                    <square x="1" y="3">
                        <arrow x="0" y="-1" />
                    </square>
                </grid>
                <goToPhase>
                    <phaseRef value="Win" />
                    <player value="black" />
                </goToPhase>
            </example>
        <subphase>
            <p>You have no legal move
            <goToPhase>
                <phaseRef value="Lose" />
            </goToPhase>
            </p>
            <example>
                <player value="black" /> (<piece colour="black" shape="small-rook" />)
                <grid use="wins" scale="1">
                    <square x="2" y="0">
                        <highlight value="cross" />
                    </square>
                    <square x="0" y="3">
                        <highlight value="cross" />
                    </square>
                </grid>
                <goToPhase>
                    <phaseRef value="Win" />
                    <player value="white" />
                </goToPhase>
            </example>
<!--
            <example>
                <player value="white" /> (<piece colour="white" shape="small-rook" />)
                <grid use="grid" scale="1">
                    <square x="2" y="0"> <piece colour="white" shape="small-rook-with-dot" /> </square>
                    <square x="0" y="1"> <piece colour="black" shape="small-rook" /> </square>
                    <square x="1" y="1"> <piece colour="black" shape="small-rook-with-dot" /> </square>
                    <square x="2" y="1">
                        <highlight value="cross" />
                        <piece colour="white" shape="small-rook" />
                    </square>
                    <square x="3" y="1"> <piece colour="black" shape="small-rook-with-dot" /> </square>
                    <square x="0" y="2">
                        <highlight value="cross" />
                        <piece colour="white" shape="small-rook" />
                    </square>
                    <square x="1" y="2"> <piece colour="black" shape="king" /> </square>
                    <square x="2" y="2"> <piece colour="white" shape="small-rook-with-dot" /> </square>
                    <square x="0" y="3"> <piece colour="white" shape="king" /> </square>
                    <square x="2" y="3"> <piece colour="black" shape="small-rook" /> </square>
                </grid>
                <goToPhase>
                    <phaseRef value="Win" />
                    <player value="black" />
                </goToPhase>
            </example>
-->
        </subphase>
        <subphase>
            <p>
                    Pieces may not capture
            </p>
        </subphase>
        </phase>
        <defs>
        <dl>
            <dlentry>
                <dt><keyword>use</keyword></dt>
                <dd>
                    If there are any pieces of this type not yet in play,
                    place one in any unoccupied space
                </dd>
                <dd>
                    <p>If all pieces of this type are in play,
                        <keyword>move</keyword> one piece of this type</p>
                </dd>
            </dlentry>
            <dlentry>
                <dt><keyword>move</keyword></dt>
                <dd>
                    <ul>
                       <li> if moving
                            <piece colour="black" shape="small-rook" /> or
                            <piece colour="black" shape="small-rook-with-dot" />:
                            <space />
                            <grid use="other-chess-pieces.xml#small-rook" scale="0.4"/>
                        </li>
                        <li> if moving
                            <piece colour="black" shape="king" />:
                            <space />
                            <grid use="chess-pieces.xml#king" scale="0.4"/>
                        </li>
                    </ul>
                </dd>
            </dlentry>
        </dl>
        </defs>
        <log>
            <status value="complete" />
            <sources>
                <source>
                    <title>Sly: Six Exciting Games For Family Fun</title>
                    <copyright-holder>Amway Corp., U.S.A.</copyright-holder>
                    <copyright-year>1975</copyright-year>
                </source>
            </sources>
            <changelog>
                <change>
                    <changedate>2010-08-31</changedate>
                    <changetext>First release</changetext>
                </change>
                <change>
                    <changedate>2010-09-20</changedate>
                    <changetext>Updates for tweaked format</changetext>
                </change>
            </changelog>
        </log>
    </gamebody>
</game>
